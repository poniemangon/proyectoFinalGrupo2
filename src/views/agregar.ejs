<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Mukta:wght@400;500;700&display=swap" rel="stylesheet" />
  <link
      href="https://fonts.googleapis.com/css2?family=Roboto:wght@500;700&display=swap"
      rel="stylesheet"
    />
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css" rel="stylesheet" />
  <link href="/css/home.css" rel="stylesheet" />
  <link href="/css/header_footer.css" rel="stylesheet" />
  <link href="/css/carrito.css" rel="stylesheet" />
  <link href="/css/agregar.css" rel="stylesheet" />
  <title>Document</title>
</head>

<body>
  <%- include('./partials/header') %>
  
    <div class="invisible"></div>


    <main>
      <% if (locals.errors) {%>
        <% for (error of locals.errors) {%>

        <h2> <%= error.msg %> </h2>
        <% }} %>
      <div class="container-principal">

        <h1 class="titulo-seccion">CREAR PRODUCTO</h1>


        <form action="/products/store" method="post" enctype="multipart/form-data" id="formulario-creacion-producto">
          <div class="container-titulo-input-small container-name">
            <label for="name" >Nombre</label>
            <input 
            type="text" 
            id="name" 
            name="name"
            <% if (locals.oldData && locals.oldData.name) {%>
              value="<%= oldData.name %>"
              <% } %>
              
            >
            <small class="small-valido"
                >Este campo es obligatorio y deberá tener al menos 5 caracteres.</small
              >
          </div>
          <div class="container-titulo-input-small container-description">
            <label for="description">Descripción</label>
            <textarea 
            id="description" 
            name="description"
            <% if (locals.oldData && locals.oldData.description) {%>
              value="<%= oldData.description %>"
              <% } %>
            ></textarea>
            <small class="small-valido"
            >Este campo es obligatorio y deberá tener al menos 20 caracteres.</small
          >
          </div>
          <div class="container-titulo-input-small">
            <label for="id_product_category">Categoria</label>
            <select id="id_product_category" name="id_product_category">
              <% categorias.forEach(categoria=> { %>
                <option value="<%= categoria.id %>">
                  <%= categoria.category_name %>
                </option>
                <% }); %>
            </select>
          </div>
          <div class="container-titulo-input-small">
            <label for="price">Precio</label>
            <input 
            type="number" 
            id="price" 
            name="price"
            <% if (locals.oldData && locals.oldData.price) {%>
              value="<%= oldData.price %>"
              <% } %>
            >
          </div>
          <div class="container-titulo-input-small container-product_image">
            <label for="image">Imagen</label>
            <input type="file" id="product_image" name="product_image">
            <small class="small-valido"
                >La imagen debe ser JPG, JPEG, PNG o GIF.</small
              >
          </div>
          <div class="container-titulo-input-small">
            <label for="banner">Banner</label>
            <input type="file" id="product_banner" name="product_banner">
          </div>

          <div class="container-btn">
            <p class="mensaje-correcto-invisible">
              Formulario enviado exitosamente!
            </p>
            <p class="mensaje-incorrecto-invisible">
              Debe llenar el formulario correctamente!
            </p>
            <button type="submit">Submit</button>
          </div>
      </div>
      </form>

      </div>
    </main>

    <%- include('./partials/footer') %>
    <script src="/js/agregar.js"></script>
</body>

</html>